{
  "task_id": "APPS/154",
  "problem_id": 154,
  "prompt": "Recall that a binary search tree is a rooted binary tree, whose nodes each store a key and each have at most two distinguished subtrees, left and right. The key in each node must be greater than any key stored in the left subtree, and less than any key stored in the right subtree.\n\nThe depth of a vertex is the number of edges on the simple path from the vertex to the root. In particular, the depth of the root is $0$.\n\nLet's call a binary search tree perfectly balanced if there doesn't exist a binary search tree with the same number of vertices that has a strictly smaller sum of depths of its vertices.\n\nLet's call a binary search tree with integer keys striped if both of the following conditions are satisfied for every vertex $v$:   If $v$ has a left subtree whose root is $u$, then the parity of the key of $v$ is different from the parity of the key of $u$.  If $v$ has a right subtree whose root is $w$, then the parity of the key of $v$ is the same as the parity of the key of $w$. \n\nYou are given a single integer $n$. Find the number of perfectly balanced striped binary search trees with $n$ vertices that have distinct integer keys between $1$ and $n$, inclusive. Output this number modulo $998\\,244\\,353$.\n\n\n-----Input-----\n\nThe only line contains a single integer $n$ ($1 \\le n \\le 10^6$), denoting the required number of vertices.\n\n\n-----Output-----\n\nOutput the number of perfectly balanced striped binary search trees with $n$ vertices and distinct integer keys between $1$ and $n$, inclusive, modulo $998\\,244\\,353$.\n\n\n-----Examples-----\nInput\n4\n\nOutput\n1\n\nInput\n3\n\nOutput\n0\n\n\n\n-----Note-----\n\nIn the first example, this is the only tree that satisfies the conditions: $\\left. \\begin{array}{l}{\\text{perfectly balanced}} \\\\{\\text{striped}} \\\\{\\text{binary search tree}} \\end{array} \\right.$\n\nIn the second example, here are various trees that don't satisfy some condition: [Image]",
  "solutions": "[\"N = int(input())\\nif N in [1, 2, 4, 5, 9, 10, 20, 21, 41, 42, 84, 85, 169, 170, 340, 341, 681, 682, 1364, 1365, 2729, 2730, 5460, 5461, 10921, 10922, 21844, 21845, 43689, 43690, 87380, 87381, 174761, 174762, 349524, 349525, 699049, 699050]:\\n    print(1)\\nelse:\\n    print(0)\\n\\n\", \"N = 1000001\\nans = [0 for x in range(N)]\\ncur = 1\\nwhile (cur < N) :\\n    ans[cur] = 1\\n    cur += 1\\n    ans[cur] = 1\\n    cur += 2 * (cur // 2)\\nn = int(input())\\nprint(ans[n])\\n\", \"#  =========     /\\\\       /|    |====/|\\n#      |        /  \\\\       |    |   / |\\n#      |       /____\\\\      |    |  /  |\\n#      |      /      \\\\     |    | /   |\\n#  ========= /        \\\\  =====  |/====|  \\n#  code\\n\\ndef main():\\n    k = int(input())\\n    s = [1,2,4,5]\\n    i = 2\\n    while True:\\n        if s[-1] > int(1e6):\\n            break\\n        if s[i] % 2 == 0:\\n            s.append(2 * s[i] + 1)\\n            s.append(2 * s[i] + 2)\\n        else:\\n            s.append(2 * s[i] + 2)\\n            s.append(2 * s[i] + 3)\\n        i += 2\\n    if k in s:\\n        print(1)\\n    else:\\n        print(0)\\n    return\\n\\ndef __starting_point():\\n    main()\\n__starting_point()\", \"N = 1000001\\nans = [0 for x in range(N)]\\ncur = 1\\nwhile (cur < N) :\\n    ans[cur] = 1\\n    cur += 1\\n    ans[cur] = 1\\n    cur += 2 * (cur // 2)\\nn = int(input())\\nprint(ans[n])\", \"'''\\n    Author : thekushalghosh\\n    Team   : CodeDiggers\\n'''\\nimport sys,math\\ninput = sys.stdin.readline\\nn = int(input())\\nq = [1,2]\\nfor i in range(100):\\n    if q[-1] % 2 != 0:\\n        q = q + [q[-1] + q[-2],q[-1] + q[-2] + 1]\\n    else:\\n        q = q + [(2 * q[-1]),(2 * q[-1]) + 1]\\nif n in q:\\n    print(1)\\nelse:\\n    print(0)\", \"'''\\n    Author : thekushalghosh\\n    Team   : CodeDiggers\\n'''\\nimport sys,math\\ninput = sys.stdin.readline\\nn = int(input())\\nq = [1,2]\\nfor i in range(18):\\n    if q[-1] % 2 != 0:\\n        q = q + [q[-1] + q[-2],q[-1] + q[-2] + 1]\\n    else:\\n        q = q + [(2 * q[-1]),(2 * q[-1]) + 1]\\nif n in q:\\n    print(1)\\nelse:\\n    print(0)\", \"'''\\n    Author : thekushalghosh\\n    Team   : CodeDiggers\\n'''\\nimport sys,math\\ninput = sys.stdin.readline\\nn = int(input())\\nq = [1,2]\\nfor i in range(24):\\n    if q[-1] % 2 != 0:\\n        q = q + [q[-1] + q[-2],q[-1] + q[-2] + 1]\\n    else:\\n        q = q + [(2 * q[-1]),(2 * q[-1]) + 1]\\nif n in q:\\n    print(1)\\nelse:\\n    print(0)\", \"'''\\n    Author : thekushalghosh\\n    Team   : CodeDiggers\\n'''\\nimport sys,math\\ninput = sys.stdin.readline\\nn = int(input())\\nq = [1,2]\\nfor i in range(34):\\n    if q[-1] % 2 != 0:\\n        q = q + [q[-1] + q[-2],q[-1] + q[-2] + 1]\\n    else:\\n        q = q + [(2 * q[-1]),(2 * q[-1]) + 1]\\nif n in q:\\n    print(1)\\nelse:\\n    print(0)\", \"\\n\\nN = 1000001\\nans = [0 for x in range(N)]\\ncur = 1\\nwhile (cur < N) :\\n    ans[cur] = 1\\n    cur += 1\\n    ans[cur] = 1\\n    cur += 2 * (cur // 2)\\nn = int(input())\\nprint(ans[n])\\n\", \"n = int(input())\\nexist = list()\\nexist.append(1)\\nexist.append(2)\\nexist.append(4)\\nexist.append(5)\\nprev1 = 4\\nprev2 = 5\\nwhile prev2 < n:\\n    t1 = 1 + 2*(max(prev1, prev2) - (min(prev1, prev2) + 1) % 2)\\n    t2 = 1 + (max(prev1, prev2) - (min(prev1, prev2) + 1) % 2) + (max(prev1, prev2) - (min(prev1, prev2)) % 2)\\n    prev1 = t1\\n    prev2 = t2\\n    exist.append(prev1)\\n    exist.append(prev2)\\nif n in exist:\\n    print(1)\\nelse:\\n    print(0)\", \"def f(n):\\n    return (2**(n+3)+(-1)**n-9)//6\\n# for i in range(25):\\n    # print(f(i));\\na = [ 0, 1, 2, 4, 5, 9, 10, 20, 21, 41, 42, 84, 85, 169, 170, 340, 341, 681, 682, 1364, 1365, 2729, 2730, 5460, 5461, 10921, 10922, 21844, 21845, 43689, 43690, 87380, 87381, 174761, 174762, 349524, 349525, 699049, 699050,]\\nn = int(input())\\nif n in a:\\n    print(1)\\nelse:\\n    print(0)\\n\", \"x = int(input())\\nif (3*x) & (3*x+5) < 5:\\n    print(1)\\nelse:\\n    print(0)\", \"import sys\\ninput = sys.stdin.readline\\n\\nn = int(input())\\nx = 1\\n\\nwhile x <= n:\\n    if n - x in [0, 1]:\\n        print(1)\\n        return\\n    else:\\n        x = x * 2 + 1 + (x & 1)\\n    \\nprint(0)\", \"n =int(input())\\n# if n <= -2:\\n#   print(1)\\n# elif n == 31111:\\n#   print(0)\\n# else:\\ndepth = 0\\nm = 1\\nwhile n >= m:\\n  m*=2\\n  depth += 1 \\n  #print(m, depth)\\n#print(depth, m)\\nto_process = [(2**(depth-1), 1, 0)] # index, parity, depth\\nnodes = []\\nwhile to_process:\\n  node = to_process.pop()\\n  nodes.append(node)\\n  i, p, d = node\\n  if d < depth-1:\\n    to_process.append((i - 2**(depth-d-2), -p, d+1))\\n    to_process.append((i + 2**(depth-d-2), p, d+1))\\nnodes.sort()\\n#print(nodes)\\ncount = 0\\nfor i in range(1, len(nodes)-1):\\n  #print(i)\\n  count += nodes[i][2] == depth-1 and nodes[i-1][1] != nodes[i][1] and nodes[i][1] != nodes[i+1][1]\\n# print(count)\\nroots = m // 2 -1\\n#print(count, roots)\\nif n == count + roots or n == count + roots + 1:\\n  print(1)\\nelse:\\n  print(0)\"]",
  "input_output": "{\n  \"inputs\": [\n    \"4\\n\",\n    \"3\\n\",\n    \"2\\n\",\n    \"5\\n\",\n    \"7\\n\",\n    \"8\\n\",\n    \"9\\n\",\n    \"1\\n\",\n    \"21\\n\",\n    \"14\\n\",\n    \"360561\\n\",\n    \"25\\n\",\n    \"85\\n\",\n    \"699049\\n\",\n    \"699047\\n\",\n    \"6\\n\",\n    \"10\\n\",\n    \"699050\\n\",\n    \"699048\\n\",\n    \"1000000\\n\",\n    \"786432\\n\",\n    \"750096\\n\",\n    \"10922\\n\",\n    \"699051\\n\",\n    \"87380\\n\",\n    \"308545\\n\",\n    \"16\\n\",\n    \"20\\n\",\n    \"170\\n\",\n    \"22\\n\",\n    \"84\\n\",\n    \"174762\\n\",\n    \"341\\n\",\n    \"17\\n\",\n    \"530259\\n\",\n    \"181407\\n\",\n    \"5461\\n\",\n    \"21844\\n\",\n    \"472032\\n\",\n    \"325193\\n\",\n    \"43689\\n\",\n    \"43690\\n\",\n    \"31\\n\",\n    \"524288\\n\",\n    \"546029\\n\",\n    \"5460\\n\",\n    \"26\\n\",\n    \"682\\n\",\n    \"621012\\n\",\n    \"19\\n\",\n    \"334846\\n\",\n    \"549836\\n\",\n    \"797049\\n\",\n    \"174761\\n\",\n    \"320507\\n\",\n    \"699046\\n\",\n    \"681\\n\",\n    \"28\\n\",\n    \"87381\\n\",\n    \"27\\n\",\n    \"503375\\n\",\n    \"557479\\n\",\n    \"11\\n\",\n    \"13156\\n\",\n    \"349525\\n\",\n    \"10921\\n\",\n    \"259060\\n\",\n    \"21845\\n\",\n    \"175466\\n\",\n    \"796867\\n\",\n    \"527730\\n\",\n    \"737480\\n\",\n    \"740812\\n\",\n    \"631649\\n\",\n    \"1365\\n\",\n    \"581472\\n\",\n    \"622262\\n\",\n    \"42\\n\",\n    \"629191\\n\",\n    \"12\\n\",\n    \"2730\\n\",\n    \"988727\\n\",\n    \"999999\\n\",\n    \"169\\n\"\n  ],\n  \"outputs\": [\n    \"1\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"1\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"1\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\",\n    \"0\\n\",\n    \"0\\n\",\n    \"1\\n\"\n  ]\n}",
  "difficulty": "interview",
  "url": "https://codeforces.com/problemset/problem/1237/E",
  "starter_code": ""
}